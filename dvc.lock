schema: '2.0'
stages:
  extract-jhtdb-stats:
    cmd: python -c "import jhtdb; jhtdb.read_stats()"
    deps:
    - path: jhtdb.py
      hash: md5
      md5: bfbdf4db03afdc3d84d0184a411ceb6c
      size: 8489
    outs:
    - path: data/jhtdb-transitional-bl/all-stats.h5
      hash: md5
      md5: 00a5a69441882a30eb8fee49ff13f125
      size: 354031752
  build-paper:
    cmd: latexmk -pdf paper.tex
    deps:
    - path: ../figures/bl-profile-dns.pdf
      hash: md5
      md5: 809bf221005621de7d7ca8bb316e7afc
      size: 9132
    - path: ../figures/time-ave-profiles.pdf
      hash: md5
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
    - path: paper.tex
      hash: md5
      md5: 60142b697f7735ae8d3919b352ce6cdc
      size: 37094
    outs:
    - path: paper.pdf
      hash: md5
      md5: d33abd38ddf0e309e9ae5d6e068edd72
      size: 282895
  run-rans-sim:
    cmd: mkdir -p sim/results && touch sim/results/time-ave-profile.csv
    deps:
    - path: results/coeffs.json
      hash: md5
      md5: 8a80554c91d9fca8acb82f023de02f11
      size: 3
    - path: sim/system
      hash: md5
      md5: d75d774cec02cb8e5d4bf5dee80c68f0.dir
      size: 10919
      nfiles: 4
    outs:
    - path: sim/results/time-ave-profile.csv
      hash: md5
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
  plot-time-ave-profiles:
    cmd: mkdir -p figures && touch figures/time-ave-profiles.pdf
    deps:
    - path: data/jhtdb-transitional-bl/time-ave-profiles.h5
      hash: md5
      md5: 46ce259ab949ecb23751eb88ec753ff2
      size: 83344240
    - path: sim/results/time-ave-profile.csv
      hash: md5
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
    outs:
    - path: figures/time-ave-profiles.pdf
      hash: md5
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
  compute-coeffs:
    cmd: mkdir -p results && echo "{}" > results/coeffs.json
    deps:
    - path: data/jhtdb-transitional-bl/all-stats.h5
      hash: md5
      md5: 00a5a69441882a30eb8fee49ff13f125
      size: 354031752
    outs:
    - path: results/coeffs.json
      hash: md5
      md5: 8a80554c91d9fca8acb82f023de02f11
      size: 3
  plot-bl-dns:
    cmd: python scripts/plot-bl-dns.py
    deps:
    - path: data/jhtdb-transitional-bl/all-stats.h5
      hash: md5
      md5: 00a5a69441882a30eb8fee49ff13f125
      size: 354031752
    - path: scripts/plot-bl-dns.py
      hash: md5
      md5: c800d06e86e1169a2a52f8e1643b0704
      size: 407
    outs:
    - path: figures/bl-profile-dns.pdf
      hash: md5
      md5: 809bf221005621de7d7ca8bb316e7afc
      size: 9132
